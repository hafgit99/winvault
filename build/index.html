<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://www.google.com https://*.gstatic.com https://*.google.com; connect-src 'self' http://localhost:* https://generativelanguage.googleapis.com;">
  <link rel="icon" href="favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WinVault</title>
  <!-- Tailwind CDN (Geliştirme için). Prodüksiyon için yerel kurulum önerilir ama şimdilik hızlı çözüm için kalabilir. -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Outfit', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      /* Default to dark mode colors initially to prevent flash */
      background-color: #0f172a;
      color: #e2e8f0;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Light mode body override via CSS if needed */
    html:not(.dark) body {
      background-color: #f8fafc;
      color: #1e293b;
    }

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 3px;
    }

    .dark ::-webkit-scrollbar-thumb {
      background: #334155;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    .dark ::-webkit-scrollbar-thumb:hover {
      background: #475569;
    }

    .glass-panel {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .dark .glass-panel {
      background: rgba(30, 41, 59, 0.7);
    }

    /* Amoled (Pitch Black) Mode */
    html.amoled body {
      background-color: #000000 !important;
      color: #ffffff;
    }

    html.amoled .bg-slate-50,
    html.amoled .bg-white,
    html.amoled .dark\:bg-slate-900,
    html.amoled .dark\:bg-slate-950 {
      background-color: #000000 !important;
    }

    html.amoled .border-slate-200,
    html.amoled .dark\:border-slate-800,
    html.amoled .dark\:border-slate-700 {
      border-color: #111111 !important;
    }

    html.amoled .glass-panel {
      background: rgba(0, 0, 0, 0.7) !important;
      border-color: #222222 !important;
    }

    html.amoled ::-webkit-scrollbar-thumb {
      background: #222222;
    }

    html.amoled ::-webkit-scrollbar-thumb:hover {
      background: #333333;
    }

    /* MasterLogin Amoled Fix */
    html.amoled .master-login-bg {
      background: #000000 !important;
      background-image: none !important;
    }

    * {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Image Loading Stability */
    img {
      display: block;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      will-change: opacity;
    }

    /* Context Menu Style */
    #custom-context-menu {
      display: none;
      position: absolute;
      z-index: 9999;
      background-color: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      padding: 4px 0;
      min-width: 120px;
    }

    html:not(.dark) #custom-context-menu {
      background-color: #ffffff;
      border-color: #e2e8f0;
      color: #1e293b;
    }

    .context-menu-item {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      color: #e2e8f0;
      transition: background-color 0.2s;
    }

    html:not(.dark) .context-menu-item {
      color: #334155;
    }

    .context-menu-item:hover {
      background-color: #334155;
    }

    html:not(.dark) .context-menu-item:hover {
      background-color: #f1f5f9;
    }
  </style>
  <link rel="stylesheet" href="/index.css">
  <script type="module" crossorigin src="./assets/index-DtM8bL__.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-DvLxEN7B.css">
</head>

<body>
  <div id="root" class="h-full w-full"></div>

  <!-- Custom Context Menu -->
  <div id="custom-context-menu">
    <div class="context-menu-item" id="ctx-copy">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        style="margin-right: 8px;">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      Kopyala
    </div>
  </div>

  <script>
    const contextMenu = document.getElementById('custom-context-menu');
    const copyBtn = document.getElementById('ctx-copy');

    document.addEventListener('contextmenu', (e) => {
      // Only show if text is selected
      const selection = window.getSelection();
      if (selection.toString().length > 0) {
        e.preventDefault();
        contextMenu.style.display = 'block';
        contextMenu.style.left = `${e.pageX}px`;
        contextMenu.style.top = `${e.pageY}px`;
      } else {
        // If input/textarea, let default menu handle it if possible, or hide ours
        contextMenu.style.display = 'none';
      }
    });

    document.addEventListener('click', (e) => {
      if (contextMenu.style.display === 'block') {
        contextMenu.style.display = 'none';
      }
    });

    copyBtn.addEventListener('click', () => {
      document.execCommand('copy');
      contextMenu.style.display = 'none';
    });
  </script>
</body>